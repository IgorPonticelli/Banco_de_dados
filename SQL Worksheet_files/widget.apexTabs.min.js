!function(e,t){"use strict";var i="#SHOW_ALL",a="a-Tabs",s="a-Tabs-panel",n="aria-selected",o="aria-controls",l="aria-hidden",r=t.getMessage("APEX.TABS.PREVIOUS"),c=t.getMessage("APEX.TABS.NEXT"),u=e.ui.keyCode;e.widget("apex.aTabs",{options:{mode:"standard",classPrefix:"a-Tabs",showHints:!1,useSlider:!0,useLocationHash:!1,useSessionStorage:!0,addMoveNextPrevious:!1,hidePreviousTab:!0,onRegionChange:function(e,t){var i=this.tabs$.data("onRegionChange");i&&i(e,t)},showAllScrollOffset:function(){return 0},tabsContainer$:!1,optionalSelectedClass:"",allowSwipe:!1},activeTab:null,firstVisibleTab:null,lastVisibleTab:null,getTabs:function(){return this.tabs},getTab:function(e){return this.tabs[e]||null},getActive:function(){return this.activeTab},movePrevious:function(e,t){this._moveToRegion(e,"getPreviousVisible","getNextVisible",t)},moveNext:function(e,t){this._moveToRegion(e,"getNextVisible","getPreviousVisible",t)},moveNextActive:function(e){this.moveNext(this.activeTab,e)},movePreviousActive:function(e){this.movePrevious(this.activeTab,e)},tabShouldBeHidden:function(){return"jump"!==this.options.mode&&this.options.hidePreviousTab},getNextActiveTabFromSiblings:function(e){var t=this._getScrollOffset(),i=e.getNextVisible(this.rtlMode);if(null!==i&&i.getTop()<t)return i;var a=e.getPreviousVisible(this.rtlMode);return null!==a&&t<e.getTop()?a:null},getFirstVisibleTab:function(e,t){if(!e)return null;if(!e.hidden)return e;for(;e[t];)if(!(e=e[t]).hidden)return e;return null},_onClick:function(e,t){e.makeActive(!0),void 0!==t&&t.doNotFocus||e.link$.focus()},_moveToRegion:function(e,t,i,a){var s=e[t]();if(null!==s)this._onClick(s,a);else{for(var n=e,o=n[i]();null!==o;)n=o,o=o[i]();this._onClick(n,a),this.firstVisibleTab.panel$.addClass("apex-rds-swap"),this.lastVisibleTab.panel$.addClass("apex-rds-swap")}},_showTabInList:function(e){e.hidden=!1,null===e.getNextVisible()&&(this.lastVisibleTab=e),null===e.getPreviousVisible()&&(this.lastVisibleTab=e),e.tab$.show(),this.activeTab.href!==i&&this.tabShouldBeHidden()&&e!==this.activeTab?e.panel$.hide():this.options.hidePreviousTab||e.panel$.css("display","")},_hideTabInList:function(e){this.activeTab===e&&(e.previous?e.previous.makeActive(!0):e.next&&e.next.makeActive(!0)),e.hidden=!0,e===this.firstVisibleTab&&(this.firstVisibleTab=e.getNextVisible()),e===this.lastVisibleTab&&(this.lastVisibleTab=e.getPreviousVisible()),e.tab$.hide()},_getScrollOffset:function(){return this.tabs$.offset().top+this.tabs$.outerHeight()+60},_iterateThroughAndClear:function(e,t,i){for(;null!==e;)e.link$.parent().removeClass(this.selectedClass),e.panel$.removeClass(this.ELEMENT_SELECTED_CLASS),this.jumpMode?e.panel$.attr(l,"false"):i?e.hidden||(e.panel$.attr(l,"false"),e.panel$.show()):(this.options.hidePreviousTab&&e.panel$.hide(),e.panel$.attr(l,"true")),e.tab$.removeClass(this.HINT_CLASS),e.link$.attr(n,!1).attr("tabIndex","-1"),i?e.link$.attr(o,e.href.substring(1)):e.link$.removeAttr(o),t?(e.panel$.removeClass(this.AFTER_CLASS).addClass(this.BEFORE_CLASS),e.link$.parent().removeClass(this.AFTER_CLASS).addClass(this.BEFORE_CLASS),e=e.previous):(e.panel$.addClass(this.AFTER_CLASS).removeClass(this.BEFORE_CLASS),e.link$.parent().addClass(this.AFTER_CLASS).removeClass(this.BEFORE_CLASS),e=e.next)},_create:function(){var t=this.tabs={},v=this.tabs$=this.element,h=this,b=null,d=null,f=!1,p=!1,T=v.closest(".apex-tabs-region").attr("id"),g=this.options.classPrefix,S=apex.storage.getScopedSessionStorage({usePageId:!0,useAppId:!0,regionId:this.tabs$.id});T&&apex.region.create(T,{focus:function(){var e=h.activeTab.link$;return e.focus(),e},widget:function(){return h.tabs$}}),this.HINT_CLASS=g+"-item--hint",this.BEFORE_CLASS=g+"-before",this.AFTER_CLASS=g+"-after",this.DEFAULT_SELECTED_CLASS=g+"-selected",this.ELEMENT_SELECTED_CLASS=g+"-element-selected",this.FILL_CLASS=g+"--fill";var C=this.options,m=this.jumpMode="jump"===C.mode,x=C.useSlider,w=C.useLocationHash,A=C.useSessionStorage,$=C.onRegionChange;this.selectedClass=this.DEFAULT_SELECTED_CLASS+" "+C.optionalSelectedClass;var L=function(){return v.hasClass(h.FILL_CLASS)},_=function(){return"table"===v.css("display")},E=function(){if(!L()&&!_()&&x&&null===d){var t=e('<div class="apex-rds-hover left"><a> <span class="a-Icon icon-left-chevron"></span> </a></div>'),i=e('<div class="apex-rds-hover right" ><a> <span class="a-Icon icon-right-chevron"></span> </a></div>');(d=e("<div class='apex-rds-slider'>")).append(t).append(i),v.parent().prepend(d);var a,s=function(e,t){var i=function(){var e=t?"+=20px":"-=20px";v.stop().animate({scrollLeft:e},100,"linear",i),a()};e.click((function(){var e=t?"+=200px":"-=200px";v.stop(!1,!1).animate({scrollLeft:e},100)}));var a=function(){var i,a=parseInt(v.css("paddingRight"),10)+parseInt(v.css("paddingLeft"),10),s=v[0].scrollWidth-a-Math.ceil(v.width()),n=v.scrollLeft();return(i=t?n>=s:0===n)?(e.hide(),!1):(i||e.show(),!0)};return e.hover(i,(function(){v.stop()})),{checkState:a}},n=s(i,!0),o=s(t,!1),l=function(){o.checkState(),n.checkState()};v.scroll((function(){clearTimeout(a),a=setTimeout(l,200)})),e(window).on("apexwindowresized",l),l()}},k=function(){var g=0,k=0;if(v.attr("role","tablist").addClass(a),"rtl"===v.css("direction")&&(v.addClass("u-RTL"),p=h.rtlMode=!0),C.addMoveNextPrevious){var V=e('<button type="button" class="'+h.options.classPrefix+"-previous-region "+h.options.classPrefix+'-button" title="'+r+'" aria-label="'+r+'"><span class="a-Icon icon-left-chevron" aria-hidden="true"></span></button>'),P=e('<button type="button" class="'+h.options.classPrefix+"-next-region "+h.options.classPrefix+'-button" title="'+c+'" aria-label="'+c+'"><span class="a-Icon icon-right-chevron" aria-hidden="true"></span></button>');v.parent().prepend(V).append(P),V.click((function(){h.movePreviousActive()})),P.click((function(){h.moveNextActive()}))}m&&v.addClass("apex-rds-container--jumpNav"),v.css({"white-space":"nowrap","overflow-x":"hidden"});var N,y=e("a",v),I=null;if(y.length<=2&&y.eq(0).attr("href")===i)v.remove();else{if(p&&(y=e(y.get().reverse())),y.each((function(){var a=e(this),r=a.attr("href"),c=e(r);if(c.attr("role","tabpanel").addClass(s),C.tabsContainer$){var b=c.outerHeight();b>k&&(k=b)}if(r===i&&m)a.parent().css("display","none");else{a.attr("role","tab");var d=function(s){var u,b,d;if(!this.hidden&&(d="."+h.selectedClass.trim().split(/\s+/).join("."),b=t[v.find(d).find("a").attr("href")],h._iterateThroughAndClear.call(h,this.previous,!0,r===i),h._iterateThroughAndClear.call(h,this.next,!1,r===i),h.firstVisibleTab.panel$.removeClass("apex-rds-swap"),h.lastVisibleTab.panel$.removeClass("apex-rds-swap"),void 0!==N&&clearTimeout(N),w&&(N=setTimeout((function(){if("history"in window&&window.history&&window.history.pushState)history.pushState(null,null,r);else{var t=e(window).scrollTop();location.hash=r,e(window).scrollTop(t)}}),10)),h.tabShouldBeHidden()&&c.show(),h.activeTab=this,this.panel$.attr(l,!1).addClass(h.ELEMENT_SELECTED_CLASS),this.link$.attr(n,!0).removeAttr("tabindex"),r!==i&&this.link$.attr(o,r.substring(1)),function(e){if(!L()&&x&&!_()){for(var t=-v.width()/2,i=e.getLeft()/2,a=e;null!==a.previous;)i+=(a=a.previous).tab$.outerWidth();v.stop(!0,!0).animate({scrollLeft:i+t},(function(){}))}}(this),a.parent().removeClass(h.HINT_CLASS).addClass(h.selectedClass),A&&S.setItem(T+".activeTab",r),"standard"===C.mode&&e.apex.stickyWidget&&h.activeTab.panel$.find(".js-stickyWidget-toggle").stickyWidget("refresh"),u={mode:C.mode,active:h.activeTab,previous:b,showing:"standard"===C.mode&&b&&h.activeTab!==b&&b.href!==i},h._trigger("activate",{},u),v.trigger("tabsregionchange",[h.activeTab,C.mode]),$.call(h,C.mode,h.activeTab),s)){var g=0;if(m){var E=p.getTop();g=apex.theme.defaultStickyTop(),f=!0,e("html,body").stop(!0,!0).animate({scrollTop:E-g},{duration:"slow",step:function(e,t){var i=p.getTop()-g;i!==t.end&&(t.end=i)},complete:function(){f=!1,w&&(location.hash=r)}})}else!function(){var e=null;C.showAllScrollOffset&&(e=C.showAllScrollOffset()),v.data("showAllScrollOffset")&&(e=v.data("showAllScrollOffset")()),e&&window.scrollTo(0,e)}()}},p=t[r]={href:r,tabSet$:v,panel$:c,el$:c,link$:a,tab$:a.parent(),forceActive:d,makeActive:function(e){h.activeTab!==this&&d.call(this,e)},show:function(){h._showTabInList(p)},hide:function(){h._hideTabInList(p)},moveNext:function(e){h.moveNext(p,e)},movePrevious:function(e){h.movePrevious(p,e)},getNextVisible:function(e){return e?p.getPreviousVisible():h.getFirstVisibleTab(p.next,"next")},getPreviousVisible:function(e){return e?p.getNextVisible():h.getFirstVisibleTab(p.previous,"previous")},getTop:function(){return c.offset().top},getLeft:function(){return this.tab$.offset().left},showHint:function(){for(var e=this.previous,t=this.next;null!==e;)e.tab$.removeClass(h.HINT_CLASS),e=e.previous;for(;null!==t;)t.tab$.removeClass(h.HINT_CLASS),t=t.next;this.tab$.addClass(h.HINT_CLASS)},previous:I,next:null};p.tab$.attr("role","presentation");var E=p.tab$.attr("id");E||(E=p.href.substring(1)+"_tab",p.tab$.attr("id",E)),c.attr("aria-labelledby",E),location.hash===r&&w&&(h.activeTab=p),null===h.firstVisibleTab&&(h.firstVisibleTab=p),null!==I&&(I.next=p),I=p,a.click((function(e){return h._onClick(p,e),!1})),a.on("keydown",(function(e){var t=e.which;if(t===u.UP)h.movePrevious(p);else if(t===u.DOWN)h.moveNext(p);else if(t===u.RIGHT)h.moveNext(p);else if(t===u.LEFT)h.movePrevious(p);else if(t===u.HOME)h.firstVisibleTab.link$.click();else if(t===u.END)h.lastVisibleTab.link$.click();else{if(t!==u.SPACE)return;p.link$.click()}e.preventDefault()})),p.panel$.on("apexaftershow",(function(e){e.target===p.panel$[0]&&p.show()})).on("apexafterhide",(function(e){e.target===p.panel$[0]&&p.hide()})),g++}})),C.tabsContainer$){var F=parseInt(C.tabsContainer$.css("min-height").replace(/[^-\d\.]/g,""),10);k<=0&&(k=F),C.tabsContainer$.css("min-height",k)}var R=function(){(null===b&&(b=L()),b&&x)&&(v.width()/g<100?null===d&&(v.removeClass(h.FILL_CLASS),E()):null!==d&&(v.addClass(h.FILL_CLASS),d.hide()))};if(E(),R(),h.lastVisibleTab=I,p){var H=h.lastVisibleTab;h.lastVisibleTab=h.firstVisibleTab,h.firstVisibleTab=H}if(null===h.activeTab){if(A){var O=S.getItem(T+".activeTab");for(var M in t)if(t.hasOwnProperty(M)&&t[M].href===O){h.activeTab=t[M],w&&(location.hash=O);break}}null===h.activeTab&&(h.activeTab=h.firstVisibleTab)}v.click((function(){h.firstVisibleTab.link$.focus()})),e(window).on("apexwindowresized",R),m&&h.lastVisibleTab.panel$.wrap("<div class='apex-rds-last-item-spacer'></div>")}};m?function(){if(k(),h.activeTab){h.activeTab.forceActive(!0),e(window).height();var t=function(){if(!f){var e=h.getNextActiveTabFromSiblings(h.activeTab);null!==e&&e.makeActive()}};e(window).on("scroll",t).on("apexwindowresized",(function(){e(window).height(),t()}))}}():function(){if(k(),h.activeTab)if(h.activeTab.href!==i){var t=h.activeTab;setTimeout((function(){t.forceActive(!0)}),250)}else h.activeTab.forceActive(!0);var a=null;e(window).on("scroll",(function(){if(h.activeTab&&h.activeTab.href===i){var e=h._getScrollOffset();if(null===a)for(var t=h.firstVisibleTab;t;)!t.hidden&&t.href!==i&&t.getTop()<e&&(a=t).showHint(),t=t.next;else{var s=h.getNextActiveTabFromSiblings(a);null!==s&&(a=s,s.showHint())}}}))}(),C.allowSwipe&&C.tabsContainer$ instanceof e&&C.tabsContainer$.on("apexswipe",(function(e,t){switch(t.direction){case 2:h.moveNextActive();break;case 4:h.movePreviousActive()}}))}}),e.apex.aTabs.findClosestTab=function(t){let i,a,s,n=null;return i=e(t).parents(".a-Tabs-panel"),i.length&&(s="#"+i[0].id,a=e("#"+i.attr("aria-labelledby")).closest(".a-Tabs"),n=a.aTabs("getTab",s)),n},apex.message&&apex.message.addVisibilityCheck((function t(a){var s,n,o=e("#"+a);e.apex.aTabs&&(s=e.apex.aTabs.findClosestTab(o))&&(((n=s.tabSet$.aTabs("getActive"))!==s&&n.href!==i||!o.is(":visible"))&&s.makeActive(),t(s.el$[0].id))})),apex.widget.util.visibilityChange&&e(document.body).on("atabsactivate",(function(t,a){var s,n,o,l;if(a.previous&&(s=a.previous.panel$[0]),n=a.active.panel$[0],a.active.href===i)for(l in o=e(t.target).aTabs("getTabs"))o.hasOwnProperty(l)&&a.previous&&l!==a.previous.href&&l!==i&&apex.widget.util.visibilityChange(o[l].panel$[0],!0);else if(a.previous&&a.previous.href===i)for(l in o=e(t.target).aTabs("getTabs"))o.hasOwnProperty(l)&&l!==a.active.href&&l!==i&&apex.widget.util.visibilityChange(o[l].panel$[0],!1);else s&&apex.widget.util.visibilityChange(s,!1),apex.widget.util.visibilityChange(n,!0)})),apex.widget.regionDisplaySelector=function(t,i){var a=e("#"+t+"_RDS");return a.aTabs(e.extend({},{classPrefix:"apex-rds"},i)),{tabs:a.aTabs("getTabs"),moveNext:function(e,t){a.aTabs("moveNext",e,t)},movePrevious:function(e,t){a.aTabs("movePrevious",e,t)},getActiveTab:function(){return a.aTabs("getActive")}}}}(apex.jQuery,apex.lang);